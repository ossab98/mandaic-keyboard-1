const input=document.querySelector("textarea");input.addEventListener("keydown",(u=>{const i=document.querySelector(`kbd[data-code="${u.code}"]`);i&&(i.classList.add("active"),u.metaKey&&i.classList.remove("active"))})),input.addEventListener("keyup",(u=>{const i=document.querySelector(`kbd[data-code="${u.code}"]`);i&&i.classList.remove("active")})),input.addEventListener("input",(u=>{input===document.activeElement&&(u=input.value.substring(0,input.selectionStart).length,input.setSelectionRange(u,u),"`"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ـ${input.value.slice(u)}`:"q"===input.value.substring(u-1,u)||"Q"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡒ${input.value.slice(u)}`:"w"===input.value.substring(u-1,u)||"W"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡔ${input.value.slice(u)}`:"e"===input.value.substring(u-1,u)||"E"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡏ${input.value.slice(u)}`:"r"===input.value.substring(u-1,u)||"R"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡓ${input.value.slice(u)}`:"t"===input.value.substring(u-1,u)||"T"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡕ${input.value.slice(u)}`:"y"===input.value.substring(u-1,u)||"Y"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡈ${input.value.slice(u)}`:"u"===input.value.substring(u-1,u)||"U"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡅ${input.value.slice(u)}`:"i"===input.value.substring(u-1,u)||"I"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡉ${input.value.slice(u)}`:"o"===input.value.substring(u-1,u)||"O"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡇ${input.value.slice(u)}`:"p"===input.value.substring(u-1,u)||"P"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}࡚${input.value.slice(u)}`:"a"===input.value.substring(u-1,u)||"A"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡀ${input.value.slice(u)}`:"s"===input.value.substring(u-1,u)||"S"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡎ${input.value.slice(u)}`:"d"===input.value.substring(u-1,u)||"D"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡃ${input.value.slice(u)}`:"f"===input.value.substring(u-1,u)||"F"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡐ${input.value.slice(u)}`:"g"===input.value.substring(u-1,u)||"G"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡂ${input.value.slice(u)}`:"h"===input.value.substring(u-1,u)||"H"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡄ${input.value.slice(u)}`:"j"===input.value.substring(u-1,u)||"J"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡖ${input.value.slice(u)}`:"k"===input.value.substring(u-1,u)||"K"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡊ${input.value.slice(u)}`:"l"===input.value.substring(u-1,u)||"L"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡋ${input.value.slice(u)}`:";"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}࡙${input.value.slice(u)}`:"z"===input.value.substring(u-1,u)||"Z"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡆ${input.value.slice(u)}`:"x"===input.value.substring(u-1,u)||"X"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡗ${input.value.slice(u)}`:"c"===input.value.substring(u-1,u)||"C"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡑ${input.value.slice(u)}`:"v"===input.value.substring(u-1,u)||"V"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡘ${input.value.slice(u)}`:"b"===input.value.substring(u-1,u)||"B"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡁ${input.value.slice(u)}`:"n"===input.value.substring(u-1,u)||"N"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡍ${input.value.slice(u)}`:"m"===input.value.substring(u-1,u)||"M"===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}ࡌ${input.value.slice(u)}`:","===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}࡛${input.value.slice(u)}`:"."===input.value.substring(u-1,u)?input.value=`${input.value.substring(0,u-1)}࡞${input.value.slice(u)}`:"?"===input.value.substring(u-1,u)&&(input.value=`${input.value.substring(0,u-1)}؟${input.value.slice(u)}`),input.setSelectionRange(u,u))}));